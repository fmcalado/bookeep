"use strict";(self.webpackChunkbookeep=self.webpackChunkbookeep||[]).push([[749],{"./app/components/Post/Post.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PendingModView:()=>PendingModView,Published:()=>Published,Rejected:()=>Rejected,default:()=>Post_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/react/index.js"),next_auth_react=__webpack_require__("./node_modules/next-auth/react/index.js"),__jsx=react.createElement;function AuthContext(_ref){var children=_ref.children;return __jsx(next_auth_react.SessionProvider,null,children)}AuthContext.displayName="AuthContext",AuthContext.__docgenInfo={description:"",methods:[],displayName:"AuthContext"};var index_module=__webpack_require__("./node_modules/next-themes/dist/index.module.js"),ThemeContext_jsx=react.createElement;function ThemeContext(_ref){var children=_ref.children;return ThemeContext_jsx(index_module.f,{enableSystem:!0,attribute:"class"},children)}ThemeContext.displayName="ThemeContext",ThemeContext.__docgenInfo={description:"",methods:[],displayName:"ThemeContext"};var queryClient=__webpack_require__("./node_modules/@tanstack/query-core/build/lib/queryClient.mjs"),QueryClientProvider=__webpack_require__("./node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),useMutation=__webpack_require__("./node_modules/@tanstack/react-query/build/lib/useMutation.mjs"),esm_loading=__webpack_require__("./node_modules/@nextui-org/react/esm/loading/index.js"),axios=__webpack_require__("./node_modules/axios/lib/axios.js"),index_esm=__webpack_require__("./node_modules/react-icons/fa/index.esm.js"),Interactions_jsx=react.createElement,Interactions=function Interactions(_ref){var id=_ref.id,likes=_ref.likes,comments=_ref.comments,little=_ref.little,_useState=(0,react.useState)(!1),loading=_useState[0],setLoading=_useState[1],queryClient=(0,QueryClientProvider.NL)(),session=(0,next_auth_react.useSession)().data,user=(session||{}).user,currentUserLiked=session&&(null==likes?void 0:likes.some((function(like){return like.userId===(null==user?void 0:user.id)})))||!1,mutation=(0,useMutation.D)(function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(data){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return setLoading(!0),_context.next=3,axios.Z.post("/api/posts/addLike",{data});case 3:return _context.abrupt("return",_context.sent);case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}(),{onSuccess:function onSuccess(data){queryClient.invalidateQueries(["posts"]),queryClient.invalidateQueries(["detail-post"]),setLoading(!1)}});return Interactions_jsx("div",{className:"flex items-center justify-evenly absolute bg-primaryColor ".concat(little?"w-28 h-6 left-0":"w-32 h-7 right-0"," rounded-lg bottom-0  shadow-primary max-xl:w-28 max-xl:h-6 max-sm:w-20 max-sm:h-5")},Interactions_jsx("div",{className:"flex items-center"},Interactions_jsx("button",{className:"flex items-center justify-center",onClick:function onClick(){return mutation.mutate({id})}},loading?Interactions_jsx(esm_loading.ZP,{size:"xs",color:"white",className:"mr-2 max-sm:mr-1"}):Interactions_jsx(index_esm.ycZ,{className:"mr-2 hover:text-primaryHoverColor max-xl:text-sm max-sm:text-xs max-sm:mr-1 ".concat(currentUserLiked?"text-red-400":"text-white")})),Interactions_jsx("span",{className:"font-poppins font-bold max-xl:text-sm max-sm:text-xs text-white"},(null==likes?void 0:likes.length)||0)),Interactions_jsx("div",{className:"flex items-center"},Interactions_jsx(index_esm.diV,{className:"mr-2 hover:text-primaryHoverColor max-xl:text-sm max-sm:text-xs max-sm:mr-1 text-white"}),Interactions_jsx("span",{className:"font-poppins font-bold max-xl:text-sm max-sm:text-xs text-white"},comments)))};Interactions.displayName="Interactions",Interactions.__docgenInfo={description:"",methods:[],displayName:"Interactions"};try{Interactions.displayName="Interactions",Interactions.__docgenInfo={description:"",displayName:"Interactions",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},likes:{defaultValue:null,description:"",name:"likes",required:!1,type:{name:"Like[]"}},little:{defaultValue:null,description:"",name:"little",required:!1,type:{name:"boolean"}},comments:{defaultValue:null,description:"",name:"comments",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/Interactions/Interactions.tsx#Interactions"]={docgenInfo:Interactions.__docgenInfo,name:"Interactions",path:"app/components/Interactions/Interactions.tsx#Interactions"})}catch(__react_docgen_typescript_loader_error){}var next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),md_index_esm=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),formatDistance=__webpack_require__("./node_modules/date-fns/esm/formatDistance/index.js"),pt_BR=__webpack_require__("./node_modules/date-fns/esm/locale/pt-BR/index.js"),next_image=__webpack_require__("./node_modules/next/image.js"),image_default=__webpack_require__.n(next_image),hi_index_esm=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),node_modules_axios=__webpack_require__("./node_modules/axios/index.js"),dialog=__webpack_require__("./node_modules/@headlessui/react/dist/components/dialog/dialog.js"),Modal_jsx=react.createElement,Modal=function Modal(_ref){var children=_ref.children,isOpen=_ref.isOpen,setIsOpen=_ref.setIsOpen;return Modal_jsx(dialog.V,{open:isOpen,onClose:function onClose(){return setIsOpen(!1)},className:"relative z-50"},Modal_jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-black bg-opacity-25 backdrop-blur-sm"},Modal_jsx(dialog.V.Panel,{className:"rounded bg-white dark:bg-modalDarkColor w-fit"},children)))};Modal.displayName="Modal",Modal.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{name:"isOpen",type:{name:"boolean"}}],return:{name:"void"}}},description:""}}};try{Modal.displayName="Modal",Modal.__docgenInfo={description:"",displayName:"Modal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(isOpen: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/Modals/Modal/Modal.tsx#Modal"]={docgenInfo:Modal.__docgenInfo,name:"Modal",path:"app/components/Modals/Modal/Modal.tsx#Modal"})}catch(__react_docgen_typescript_loader_error){}var Remove_jsx=react.createElement,Remove=function Remove(_ref){var id=_ref.id,setIsOpen=_ref.setIsOpen,isOpen=_ref.isOpen,deletePost=_ref.deletePost;return Remove_jsx(Modal,{isOpen,setIsOpen},Remove_jsx("div",{className:"py-4 px-6"},Remove_jsx("h2",{className:"text-black dark:text-white font-poppins font-medium text-lg mb-4"},"Você tem certeza?"),Remove_jsx("div",{className:"flex justify-between"},Remove_jsx("button",{className:"font-poppins font-semibold bg-primaryColor text-white py-1 px-4 outline-none rounded hover:bg-primaryHoverColor",onClick:function onClick(){setIsOpen(!1),deletePost.mutate({id})}},"Sim"),Remove_jsx("button",{className:"font-poppins font-semibold bg-red-500 text-white py-1 px-4 outline-none rounded hover:bg-red-300",onClick:function onClick(){return setIsOpen(!1)}},"Não"))))};Remove.displayName="Remove",Remove.__docgenInfo={description:"",methods:[],displayName:"Remove",props:{id:{required:!0,tsType:{name:"string"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{name:"isOpen",type:{name:"boolean"}}],return:{name:"void"}}},description:""},deletePost:{required:!0,tsType:{name:"UseMutationResult",elements:[{name:"void"},{name:"unknown"},{name:"IDeletePost"},{name:"unknown"}],raw:"UseMutationResult<void, unknown, IDeletePost, unknown>"},description:""}}};try{Remove.displayName="Remove",Remove.__docgenInfo={description:"",displayName:"Remove",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(isOpen: boolean) => void"}},deletePost:{defaultValue:null,description:"",name:"deletePost",required:!0,type:{name:"UseMutationResult<void, unknown, IDeletePost, unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/Modals/Remove/Remove.tsx#Remove"]={docgenInfo:Remove.__docgenInfo,name:"Remove",path:"app/components/Modals/Remove/Remove.tsx#Remove"})}catch(__react_docgen_typescript_loader_error){}var dist=__webpack_require__("./node_modules/react-hot-toast/dist/index.mjs"),FacebookShareButton=__webpack_require__("./node_modules/react-share/es/FacebookShareButton.js"),TwitterShareButton=__webpack_require__("./node_modules/react-share/es/TwitterShareButton.js"),WhatsappShareButton=__webpack_require__("./node_modules/react-share/es/WhatsappShareButton.js"),TelegramShareButton=__webpack_require__("./node_modules/react-share/es/TelegramShareButton.js"),EmailShareButton=__webpack_require__("./node_modules/react-share/es/EmailShareButton.js"),Share_jsx=react.createElement,Share=function Share(_ref){var isOpen=_ref.isOpen,postId=_ref.postId,setIsOpen=_ref.setIsOpen,shareTitle="Aproveite a promoção, acesse o link anexado 😉\n";return Share_jsx(Modal,{isOpen,setIsOpen},Share_jsx("div",{className:"p-5 max-sm:p-3"},Share_jsx("h1",{className:"text-xl font-bold font-poppins max-sm:text-lg dark:text-white text-primaryColor"},"Compartilhar"),Share_jsx("div",{className:"mt-4 text-sm"},Share_jsx("span",{className:"font-poppins font-medium dark:text-white text-gray-400 max-sm:text-sm"},"Compartilhar link via:"),Share_jsx("ul",{className:"flex justify-between mt-3"},Share_jsx("li",{className:"p-3 rounded-full bg-facebook h-11 w-11 flex justify-center items-center max-sm:h-9 max-sm:w-9"},Share_jsx(FacebookShareButton.Z,{url:"https://bookeep.io/post/".concat(postId)},Share_jsx(index_esm.tBk,{className:"text-white h-5 w-5 max-sm:h-4 max-sm:w-4"}))),Share_jsx("li",{className:"p-3 rounded-full bg-twitter h-11 w-11 flex justify-center items-center max-sm:h-9 max-sm:w-9"},Share_jsx(TwitterShareButton.Z,{url:"https://bookeep.io/post/".concat(postId),title:shareTitle},Share_jsx(index_esm.fWC,{className:"text-white h-5 w-5 max-sm:h-4 max-sm:w-4"}))),Share_jsx("li",{className:"p-3 rounded-full bg-whatsapp h-11 w-11 flex justify-center items-center max-sm:h-9 max-sm:w-9"},Share_jsx(WhatsappShareButton.Z,{url:"https://bookeep.io/post/".concat(postId),title:shareTitle},Share_jsx(index_esm.xpo,{className:"text-white h-5 w-5 max-sm:h-4 max-sm:w-4"}))),Share_jsx("li",{className:"p-3 rounded-full bg-telegram h-11 w-11 flex justify-center items-center max-sm:h-9 max-sm:w-9"},Share_jsx(TelegramShareButton.Z,{url:"https://bookeep.io/post/".concat(postId),title:shareTitle},Share_jsx(index_esm.AGi,{className:"text-white h-5 w-5 max-sm:h-4 max-sm:w-4"}))),Share_jsx("li",{className:"p-3 rounded-full bg-gray-600 h-11 w-11 flex justify-center items-center max-sm:h-9 max-sm:w-9"},Share_jsx(EmailShareButton.Z,{subject:shareTitle,url:"https://bookeep.io/post/".concat(postId)},Share_jsx(md_index_esm.ixJ,{className:"text-white h-5 w-5 max-sm:h-4 max-sm:w-4"}))))),Share_jsx("div",{className:"mt-5"},Share_jsx("span",{className:"font-poppins font-medium dark:text-white text-gray-400 max-sm:text-sm"},"Copiar link:"),Share_jsx("div",{className:"mt-3 dark:bg-secondaryDarkColor bg-gray-400 rounded-md flex items-center py-1 px-1"},Share_jsx(index_esm.gjK,{className:"ml-1 text-white"}),Share_jsx("input",{value:"bookeep.io/post/".concat(postId),className:"outline-none mr-2 px-2 bg-transparent overflow-hidden max-sm:text-xs text-white",type:"text",readOnly:!0}),Share_jsx("button",{className:"bg-primaryColor hover:bg-primaryHoverColor py-1 px-1.5 rounded-sm max-sm:text-sm text-white",onClick:function onClick(){navigator.clipboard.writeText("https://bookeep.io/post/".concat(postId)),dist.Am.success("Copiado para área de transferência",{id:undefined})}},"Copiar")))))};Share.displayName="Share",Share.__docgenInfo={description:"",methods:[],displayName:"Share",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},postId:{required:!0,tsType:{name:"string"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{name:"isOpen",type:{name:"boolean"}}],return:{name:"void"}}},description:""}}};try{Share.displayName="Share",Share.__docgenInfo={description:"",displayName:"Share",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},postId:{defaultValue:null,description:"",name:"postId",required:!0,type:{name:"string"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(isOpen: boolean) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/Modals/Share/Share.tsx#Share"]={docgenInfo:Share.__docgenInfo,name:"Share",path:"app/components/Modals/Share/Share.tsx#Share"})}catch(__react_docgen_typescript_loader_error){}var yup_index_esm=__webpack_require__("./node_modules/yup/index.esm.js"),bs_index_esm=__webpack_require__("./node_modules/react-icons/bs/index.esm.js"),EditPost_jsx=react.createElement;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}(0,yup_index_esm.Ry)({title:(0,yup_index_esm.Z_)().min(3,"O título deve ter o mínimo de 3 caracteres").max(60,"O título deve ter o máximo de 60 caracteres").required(),saleLink:(0,yup_index_esm.Z_)().url("Insira uma URL válida").required("O link é obrigatório"),category:(0,yup_index_esm.Z_)().required("A categoria é obrigatório"),price:(0,yup_index_esm.Z_)().matches(/^[0-9]+([,.][0-9]+)?$/,"O preço precisa ser um número válido").required("O preço é obrigatório"),coupon:(0,yup_index_esm.Z_)().max(30,"O cupom deve ter o máximo de 30 caracteres"),seller:(0,yup_index_esm.Z_)().min(2,"O vendedor deve ter o mínimo de 2 caracteres").max(25,"O vendedor deve ter o máximo de 25 caracteres").required("O vendedor é obrigatório"),description:(0,yup_index_esm.Z_)().max(500,"A descrição dever ter no máximo 500 caracteres"),bookImageURL:(0,yup_index_esm.nK)().test("required","A imagem do produto é obrigatória",(function(file){return 0!==file.length}))});var EditPost=function EditPost(_ref){var toastEditPostID,isOpen=_ref.isOpen,setIsOpen=_ref.setIsOpen,postData=(_ref.createPost,_ref.postData),_useState=(0,react.useState)(),productImage=_useState[0],setProductImage=_useState[1],_useState2=(0,react.useState)(),previewImage=_useState2[0],setPreviewImage=_useState2[1],_useState3=(0,react.useState)(),file=_useState3[0],setFile=_useState3[1],queryClient=(0,QueryClientProvider.NL)(),_useState4=(0,react.useState)({id:postData.id,title:postData.title,bookImageURL:postData.bookImageURL,category:postData.category,coupon:postData.coupon,description:postData.description,saleLink:postData.saleLink,status:postData.status,seller:postData.seller,price:postData.price}),currentPostData=_useState4[0],setCurrentPostData=_useState4[1],mutate=(0,useMutation.D)((0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){var response;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,axios.Z.get("/api/images/uploadImage",{params:{name:"".concat(null==file?void 0:file.name),type:null==file?void 0:file.type}});case 2:return response=_context.sent,_context.next=5,axios.Z.put(response.data.url,file);case 5:setProductImage(response.data.url.split("?")[0]);case 6:case"end":return _context.stop()}}),_callee)})))).mutate;(0,react.useEffect)((function(){file&&mutate(file)}),[file,productImage]);var editPostMutation=(0,useMutation.D)({mutationFn:function mutationFn(post){return axios.Z.put("/api/posts/editPost",post)},onSuccess:function onSuccess(){dist.Am.success("Anúncio editado com sucesso!",{id:toastEditPostID}),queryClient.invalidateQueries(["posts"]),setIsOpen(!1)}}),handleSubmit=function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:toastEditPostID=dist.Am.loading("Atualizando anúncio...",{id:toastEditPostID}),editPostMutation.mutate(_objectSpread(_objectSpread({},currentPostData),{},{bookImageURL:productImage||currentPostData.bookImageURL})),queryClient.invalidateQueries(["posts"]),setIsOpen(!1);case 4:case"end":return _context2.stop()}}),_callee2)})));return function handleSubmit(){return _ref3.apply(this,arguments)}}();return EditPost_jsx(Modal,{isOpen,setIsOpen},EditPost_jsx("div",{className:"h-fit p-6 w-fit max-sm:p-4"},EditPost_jsx("h1",{className:"text-primaryColor font-bold font-poppins text-2xl mb-4 max-lg:mb-3 max-lg:text-xl max-sm:text-lg max-sm:mb-2"},"Editar anúncio"),EditPost_jsx("form",{onSubmit:function(){var _ref4=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(e){return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:e.preventDefault(),handleSubmit();case 2:case"end":return _context3.stop()}}),_callee3)})));return function(_x){return _ref4.apply(this,arguments)}}()},EditPost_jsx("div",{className:"flex flex-col"},EditPost_jsx("label",{className:"text-primaryColor font-poppins font-semibold mt-2 max-lg:text-sm",htmlFor:"title"},"Título"),EditPost_jsx("input",{className:"border-primaryColor border-2 mb-1 rounded bg-white dark:bg-neutral-700 py-1.5 px-1.5 text-sm text-black dark:text-white outline-none max-lg:py-1 max-lg:px-1 max-lg:text-xs w-input-lg max-lg:w-input-md max-sm:w-input-2sm",placeholder:"Insira o nome do produto...",onChange:function onChange(e){setCurrentPostData(_objectSpread(_objectSpread({},currentPostData),{},{title:e.target.value}))},name:"title",type:"text",value:currentPostData.title,id:"title"})),EditPost_jsx("div",{className:"flex flex-col"},EditPost_jsx("label",{className:"text-primaryColor font-poppins font-semibold mt-2 max-lg:text-sm",htmlFor:"saleLink"},"Link"),EditPost_jsx("input",{className:"border-primaryColor border-2 mb-1 rounded bg-white dark:bg-neutral-700 py-1.5 px-1.5 text-sm text-black dark:text-white outline-none max-lg:py-1 max-lg:px-1 max-lg:text-xs w-input-lg max-lg:w-input-md max-sm:w-input-2sm",placeholder:"Insira o link da promoção...",onChange:function onChange(e){setCurrentPostData(_objectSpread(_objectSpread({},currentPostData),{},{saleLink:e.target.value}))},name:"saleLink",type:"text",value:currentPostData.saleLink,id:"saleLink"})),EditPost_jsx("div",{className:"flex justify-between"},EditPost_jsx("div",{className:"flex flex-col"},EditPost_jsx("label",{className:"text-primaryColor font-poppins font-semibold mt-2 max-lg:text-sm",htmlFor:"price"},"Preço"),EditPost_jsx("input",{className:"border-primaryColor border-2 mb-1 rounded bg-white dark:bg-neutral-700 py-1.5 px-1.5 text-sm text-black dark:text-white outline-none max-lg:py-1 max-lg:px-1 max-lg:text-xs w-input-sm max-lg:w-input-xs max-sm:w-input-xxs",placeholder:"Insira o valor do produto...",onChange:function onChange(e){setCurrentPostData(_objectSpread(_objectSpread({},currentPostData),{},{price:e.target.value}))},name:"price",type:"text",value:currentPostData.price,id:"price"})),EditPost_jsx("div",{className:"flex flex-col"},EditPost_jsx("label",{className:"text-primaryColor font-poppins font-semibold mt-2 max-lg:text-sm",htmlFor:"coupon"},"Cupom"),EditPost_jsx("input",{className:"border-primaryColor border-2 mb-1 rounded bg-white dark:bg-neutral-700 py-1.5 px-1.5 text-sm text-black dark:text-white outline-none max-lg:py-1 max-lg:px-1 max-lg:text-xs w-input-sm max-lg:w-input-xs max-sm:w-input-xxs",placeholder:"Insira o cupom...",onChange:function onChange(e){setCurrentPostData(_objectSpread(_objectSpread({},currentPostData),{},{coupon:e.target.value}))},name:"coupon",type:"text",value:currentPostData.coupon,id:"coupon"}))),EditPost_jsx("div",{className:"flex justify-between"},EditPost_jsx("div",{className:"w-input-sm max-lg:w-input-xs max-sm:w-input-xxs"},EditPost_jsx("label",{htmlFor:"bookImageURL",className:"block text-primaryColor font-poppins font-semibold mt-2 max-lg:text-sm w-fit"},"Imagem",EditPost_jsx("div",{className:"flex w-fit"},EditPost_jsx("div",{className:"flex justify-center items-center flex-col h-20 w-16 mb-1 mr-2 border-2 bg-slate-200 dark:bg-neutral-700 border-primaryColor rounded cursor-pointer"},EditPost_jsx("span",{className:"block text-xs text-center text-primaryColor dark:text-zinc-400"},"Alterar"),EditPost_jsx(bs_index_esm.BB5,{className:"text-primaryColor dark:text-zinc-400 w-5 h-5 font-bold"})),(previewImage||postData.bookImageURL)&&EditPost_jsx("div",{className:"flex justify-center items-center flex-col h-16 w-14 mr-2 border-2 border-primaryColor rounded cursor-pointer overflow-hidden"},EditPost_jsx("img",{src:null!=previewImage?previewImage:postData.bookImageURL,alt:"Imagem do produto"})))),EditPost_jsx("input",{className:"hidden",type:"file",id:"bookImageURL",onChange:function onChange(e){var _e$target,_e$target$files;if(e.target.files&&(setFile(e.target.files[0]),null!=e&&null!==(_e$target=e.target)&&void 0!==_e$target&&null!==(_e$target$files=_e$target.files)&&void 0!==_e$target$files&&_e$target$files[0])){var _file=e.target.files[0],reader=new FileReader;reader.onloadend=function(){setPreviewImage(reader.result)},reader.readAsDataURL(_file)}}})),EditPost_jsx("div",null,EditPost_jsx("div",{className:"flex flex-col"},EditPost_jsx("label",{className:"text-primaryColor font-poppins font-semibold mt-2 max-lg:text-sm",htmlFor:"marketplace"},"Marketplace"),EditPost_jsx("input",{className:"border-primaryColor border-2 mb-1 rounded bg-white dark:bg-neutral-700 py-1.5 px-1.5 text-sm text-black dark:text-white outline-none max-lg:py-1 max-lg:px-1 max-lg:text-xs w-input-sm max-lg:w-input-xs max-sm:w-input-xxs",placeholder:"Insira o marketplace...",onChange:function onChange(e){setCurrentPostData(_objectSpread(_objectSpread({},currentPostData),{},{seller:e.target.value}))},value:currentPostData.seller,name:"marketplace",type:"text",id:"marketplace"})),EditPost_jsx("div",{className:"flex flex-col"},EditPost_jsx("label",{className:"text-primaryColor font-poppins font-semibold mt-2 max-lg:text-sm",htmlFor:"category"},"Categoria"),EditPost_jsx("select",{className:"border-primaryColor border-2 mb-1 rounded bg-white dark:bg-neutral-700 py-1.5 px-1.5 text-sm text-black dark:text-white outline-none max-lg:py-1 max-lg:px-1 max-lg:text-xs w-input-sm max-lg:w-input-xs max-sm:w-input-xxs",id:"category",name:"category",onChange:function onChange(e){setCurrentPostData(_objectSpread(_objectSpread({},currentPostData),{},{category:e.target.value}))},value:currentPostData.category},[{name:"",value:""},{name:"Drama",value:"drama"},{name:"Terror",value:"terror"},{name:"Ficção",value:"ficction"},{name:"Romance",value:"romance"},{name:"História",value:"history"},{name:"Fantasia",value:"fantasy"},{name:"Mistério",value:"mistery"},{name:"Suspense",value:"thriller"},{name:"Aventura",value:"adventure"},{name:"Religioso",value:"religious"},{name:"Educação",value:"educational"},{name:"Literatura Clássica",value:"classical-literature"}].map((function(option,index){return EditPost_jsx("option",{key:index,value:option.value},option.name)})))))),EditPost_jsx("div",{className:"flex flex-col"},EditPost_jsx("label",{className:"text-primaryColor font-poppins font-semibold mt-2 max-lg:text-sm",htmlFor:"description"},"Descrição"),EditPost_jsx("textarea",{className:"border-primaryColor border-2 mb-1 rounded bg-white dark:bg-neutral-700 w-input-lg h-textarea py-1.5 px-1.5 text-sm text-black dark:text-white outline-none overflow-hidden max-lg:w-input-md max-lg:py-1 max-lg:px-1 max-lg:text-xs max-sm:w-input-2sm",placeholder:"Insira a descrição do produto...",name:"description",onChange:function onChange(e){setCurrentPostData(_objectSpread(_objectSpread({},currentPostData),{},{description:e.target.value}))},value:currentPostData.description,id:"description"})),EditPost_jsx("div",{className:"flex w-full justify-end mt-4"},EditPost_jsx("button",{className:"bg-zinc-500 rounded text-sm py-2 px-3 font-poppins text-white font-semibold mr-4 outline-none hover:bg-zinc-400 max-lg:py-1.5 max-lg:px-2.5 max-lg:text-xs",onClick:function handleReset(){setCurrentPostData({id:postData.id,title:postData.title,bookImageURL:postData.bookImageURL,category:postData.category,coupon:postData.coupon,description:postData.description,saleLink:postData.saleLink,status:postData.status,seller:postData.seller,price:postData.price}),setIsOpen(!1)}},"Cancel"),EditPost_jsx("button",{className:"flex justify-center items-center bg-primaryColor py-2 px-3 rounded text-white text-sm font-poppins font-semibold outline-none hover:bg-primaryHoverColor max-lg:py-1.5 max-lg:px-2.5 max-lg:text-xs",type:"submit"},EditPost_jsx(index_esm.ycZ,{className:"mr-2"}),"Atualizar")))))};EditPost.displayName="EditPost",EditPost.__docgenInfo={description:"",methods:[],displayName:"EditPost",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{name:"isOpen",type:{name:"boolean"}}],return:{name:"void"}}},description:""},createPost:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: FieldValues) => void",signature:{arguments:[{name:"data",type:{name:"FieldValues"}}],return:{name:"void"}}},description:""},postData:{required:!0,tsType:{name:"EditPostType"},description:""},isEdit:{required:!0,tsType:{name:"boolean"},description:""}}};try{EditPost.displayName="EditPost",EditPost.__docgenInfo={description:"",displayName:"EditPost",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(isOpen: boolean) => void"}},createPost:{defaultValue:null,description:"",name:"createPost",required:!0,type:{name:"(data: FieldValues) => void"}},postData:{defaultValue:null,description:"",name:"postData",required:!0,type:{name:"EditPostType"}},isEdit:{defaultValue:null,description:"",name:"isEdit",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/Modals/EditPost/EditPost.tsx#EditPost"]={docgenInfo:EditPost.__docgenInfo,name:"EditPost",path:"app/components/Modals/EditPost/EditPost.tsx#EditPost"})}catch(__react_docgen_typescript_loader_error){}var Actions_jsx=react.createElement;function Actions_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Actions_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Actions_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Actions_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Actions=function Actions(_ref){var deleteToastID,editPostToastID,postId=_ref.postId,isActionsOpen=_ref.isActionsOpen,setIsActionsOpen=_ref.setIsActionsOpen,status=_ref.status,postData=_ref.postData,isOwner=_ref.isOwner,queryClient=(0,QueryClientProvider.NL)(),_useState=(0,react.useState)(!1),isRemoveOpen=_useState[0],setIsRemoveOpen=_useState[1],_useState2=(0,react.useState)(!1),isShareOpen=_useState2[0],setIsShareOpen=_useState2[1],_useState3=(0,react.useState)(!1),isEditOpen=_useState3[0],setIsEditOpen=_useState3[1],deletePost=(0,useMutation.D)(function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(_ref2){var id;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return id=_ref2.id,deleteToastID=dist.Am.loading("Removendo anúncio...",{id:deleteToastID}),_context.next=4,axios.Z.delete("/api/posts/deletePost",{data:{id}});case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}(),{onSuccess:function onSuccess(){dist.Am.success("Anúncio removido com sucesso",{id:deleteToastID}),queryClient.invalidateQueries(["posts"])}}),_useMutation=(0,useMutation.D)(function(){var _ref4=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(data){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,axios.Z.put("/api/posts/editPost",Actions_objectSpread(Actions_objectSpread({},data),{},{id:postId}));case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref4.apply(this,arguments)}}(),{onError:function onError(error){var _error$response;error instanceof node_modules_axios.d7&&dist.Am.error(null==error||null===(_error$response=error.response)||void 0===_error$response?void 0:_error$response.data.message,{id:editPostToastID})},onSuccess:function onSuccess(){dist.Am.success("Anúncio editado com sucesso!",{id:editPostToastID}),queryClient.invalidateQueries(["posts"])}}),mutate=_useMutation.mutate;return Actions_jsx(react.Fragment,null,Actions_jsx(Remove,{isOpen:isRemoveOpen,setIsOpen:setIsRemoveOpen,deletePost,id:postId}),Actions_jsx(Share,{isOpen:isShareOpen,postId,setIsOpen:setIsShareOpen}),Actions_jsx(EditPost,{createPost:function editPost(data){editPostToastID=dist.Am.loading("Atualizando anúncio...",{id:editPostToastID}),mutate(data)},isOpen:isEditOpen,setIsOpen:setIsEditOpen,isEdit:!0,postData}),isActionsOpen&&Actions_jsx("div",{className:"flex flex-col dark:shadow-dark-secondary justify-evenly items-center absolute bg-white shadow-primary h-fit py-2 w-28 z-40 right-0 top-0 mt-7 rounded-lg dark:bg-secondaryDarkColor",onMouseLeave:function onMouseLeave(){return setIsActionsOpen(!1)}},"published"===status&&Actions_jsx("button",{className:"flex items-center w-11/12 px-1 h-5 hover:bg-slate-200 dark:hover:bg-primaryDarkHoverColor text-black dark:text-white text-xs font-bold rounded-md",onClick:function onClick(){return setIsShareOpen(!0)}},Actions_jsx(hi_index_esm.jis,{className:"mr-1.5"}),Actions_jsx("p",null,"Compartilhar")),isOwner&&Actions_jsx(react.Fragment,null,"rejected"!==status&&Actions_jsx("button",{className:"flex items-center w-11/12 px-1 h-5 hover:bg-slate-200 dark:hover:bg-primaryDarkHoverColor text-black dark:text-white text-xs font-bold rounded-md",onClick:function onClick(){return setIsEditOpen(!0)}},Actions_jsx(index_esm.fmQ,{className:"mr-1.5"}),Actions_jsx("p",null,"Editar")),Actions_jsx("button",{className:"flex items-center w-11/12 px-1 h-5 hover:bg-slate-200 dark:hover:bg-primaryDarkHoverColor text-red-500 text-xs font-bold rounded-md",onClick:function onClick(){return setIsRemoveOpen(!0)}},Actions_jsx(index_esm.AMf,{className:"mr-1.5 text-red-500"}),Actions_jsx("p",null,"Remover")))))};Actions.__docgenInfo={description:"",methods:[],displayName:"Actions",props:{postData:{required:!0,tsType:{name:"EditPostType"},description:""},postId:{required:!0,tsType:{name:"string"},description:""},status:{required:!0,tsType:{name:"union",raw:'"pending" | "published" | "rejected"',elements:[{name:"literal",value:'"pending"'},{name:"literal",value:'"published"'},{name:"literal",value:'"rejected"'}]},description:""},isActionsOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsActionsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(isActionsOpen: boolean) => void",signature:{arguments:[{name:"isActionsOpen",type:{name:"boolean"}}],return:{name:"void"}}},description:""},isOwner:{required:!0,tsType:{name:"boolean"},description:""}}};try{Actions.displayName="Actions",Actions.__docgenInfo={description:"",displayName:"Actions",props:{postData:{defaultValue:null,description:"",name:"postData",required:!0,type:{name:"EditPostType"}},postId:{defaultValue:null,description:"",name:"postId",required:!0,type:{name:"string"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"enum",value:[{value:'"rejected"'},{value:'"pending"'},{value:'"published"'}]}},isActionsOpen:{defaultValue:null,description:"",name:"isActionsOpen",required:!0,type:{name:"boolean"}},setIsActionsOpen:{defaultValue:null,description:"",name:"setIsActionsOpen",required:!0,type:{name:"(isActionsOpen: boolean) => void"}},isOwner:{defaultValue:null,description:"",name:"isOwner",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/Actions/Actions.tsx#Actions"]={docgenInfo:Actions.__docgenInfo,name:"Actions",path:"app/components/Actions/Actions.tsx#Actions"})}catch(__react_docgen_typescript_loader_error){}var RejectPost_jsx=react.createElement,RejectPost=function RejectPost(_ref){var id=_ref.id,price=_ref.price,title=_ref.title,coupon=_ref.coupon,userId=_ref.userId,saleLink=_ref.saleLink,category=_ref.category,description=_ref.description,bookImageURL=_ref.bookImageURL,setIsOpen=_ref.setIsOpen,isOpen=_ref.isOpen,rejectPost=_ref.rejectPost;return RejectPost_jsx(Modal,{isOpen,setIsOpen},RejectPost_jsx("div",{className:"py-4 px-6"},RejectPost_jsx("h2",{className:"text-black dark:text-white font-poppins font-medium text-lg mb-4"},"Você tem certeza?"),RejectPost_jsx("div",{className:"flex justify-between"},RejectPost_jsx("button",{className:"font-poppins font-semibold bg-primaryColor text-white py-1 px-4 outline-none rounded hover:bg-primaryHoverColor",onClick:function onClick(){setIsOpen(!1),rejectPost.mutate({id,price,title,coupon,userId,saleLink,category,description,bookImageURL})}},"Sim"),RejectPost_jsx("button",{className:"font-poppins font-semibold bg-red-500 text-white py-1 px-4 outline-none rounded hover:bg-red-300",onClick:function onClick(){return setIsOpen(!1)}},"Não"))))};RejectPost.displayName="RejectPost",RejectPost.__docgenInfo={description:"",methods:[],displayName:"RejectPost",props:{id:{required:!0,tsType:{name:"string"},description:""},price:{required:!0,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""},coupon:{required:!0,tsType:{name:"string"},description:""},userId:{required:!0,tsType:{name:"string"},description:""},saleLink:{required:!0,tsType:{name:"string"},description:""},category:{required:!0,tsType:{name:"string"},description:""},description:{required:!0,tsType:{name:"string"},description:""},bookImageURL:{required:!0,tsType:{name:"string"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"signature",type:"function",raw:"(isOpen: boolean) => void",signature:{arguments:[{name:"isOpen",type:{name:"boolean"}}],return:{name:"void"}}},description:""},rejectPost:{required:!0,tsType:{name:"UseMutationResult",elements:[{name:"void"},{name:"unknown"},{name:"IRejectPostMutation"},{name:"unknown"}],raw:"UseMutationResult<void, unknown, IRejectPostMutation, unknown>"},description:""}}};try{RejectPost.displayName="RejectPost",RejectPost.__docgenInfo={description:"",displayName:"RejectPost",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},coupon:{defaultValue:null,description:"",name:"coupon",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}},saleLink:{defaultValue:null,description:"",name:"saleLink",required:!0,type:{name:"string"}},category:{defaultValue:null,description:"",name:"category",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},bookImageURL:{defaultValue:null,description:"",name:"bookImageURL",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"(isOpen: boolean) => void"}},rejectPost:{defaultValue:null,description:"",name:"rejectPost",required:!0,type:{name:"UseMutationResult<void, unknown, IRejectPostMutation, unknown>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/Modals/RejectPost/RejectPost.tsx#RejectPost"]={docgenInfo:RejectPost.__docgenInfo,name:"RejectPost",path:"app/components/Modals/RejectPost/RejectPost.tsx#RejectPost"})}catch(__react_docgen_typescript_loader_error){}var ReviewButtons_jsx=react.createElement,ReviewButtons=function ReviewButtons(_ref){var approveToastID,rejectToastID,id=_ref.id,price=_ref.price,title=_ref.title,coupon=_ref.coupon,userId=_ref.userId,saleLink=_ref.saleLink,category=_ref.category,description=_ref.description,bookImageURL=_ref.bookImageURL,queryClient=(0,QueryClientProvider.NL)(),_useState=(0,react.useState)(!1),isOpen=_useState[0],setIsOpen=_useState[1],approvePost=(0,useMutation.D)(function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(_ref2){var id,price,title,coupon,userId,saleLink,category,description,bookImageURL;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return id=_ref2.id,price=_ref2.price,title=_ref2.title,coupon=_ref2.coupon,userId=_ref2.userId,saleLink=_ref2.saleLink,category=_ref2.category,description=_ref2.description,bookImageURL=_ref2.bookImageURL,approveToastID=dist.ZP.loading("Aprovando anúncio...",{id:approveToastID}),_context.next=4,axios.Z.put("/api/posts/approvePost",{data:{id,price,title,coupon,userId,saleLink,category,description,bookImageURL}});case 4:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref3.apply(this,arguments)}}(),{onError:function onError(error){var _error$response;error instanceof node_modules_axios.d7&&dist.ZP.error(null==error||null===(_error$response=error.response)||void 0===_error$response?void 0:_error$response.data.message,{id:approveToastID})},onSuccess:function onSuccess(){dist.ZP.success("Anúncio aprovado com sucesso!",{id:approveToastID}),queryClient.invalidateQueries(["posts"])}}),rejectPost=(0,useMutation.D)(function(){var _ref5=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(_ref4){var id,price,title,coupon,userId,saleLink,category,description,bookImageURL;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return id=_ref4.id,price=_ref4.price,title=_ref4.title,coupon=_ref4.coupon,userId=_ref4.userId,saleLink=_ref4.saleLink,category=_ref4.category,description=_ref4.description,bookImageURL=_ref4.bookImageURL,rejectToastID=dist.ZP.loading("Removendo anúncio...",{id:rejectToastID}),_context2.next=4,axios.Z.put("/api/posts/rejectPost",{data:{id,price,title,coupon,userId,saleLink,category,description,bookImageURL}});case 4:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref5.apply(this,arguments)}}(),{onError:function onError(error){var _error$response2;error instanceof node_modules_axios.d7&&dist.ZP.error(null==error||null===(_error$response2=error.response)||void 0===_error$response2?void 0:_error$response2.data.message,{id:rejectToastID})},onSuccess:function onSuccess(){dist.ZP.success("Anúncio removido com sucesso!",{id:rejectToastID}),queryClient.invalidateQueries(["posts"])}});return ReviewButtons_jsx(react.Fragment,null,ReviewButtons_jsx(RejectPost,{id,price,title,coupon,userId,saleLink,category,description,bookImageURL,isOpen,rejectPost,setIsOpen}),ReviewButtons_jsx("div",{className:"flex justify-between w-48 absolute bottom-0 right-0 max-sm:w-40"},ReviewButtons_jsx("button",{className:"bg-green-500 hover:opacity-50 py-1 px-2 rounded-lg font-bold text-sm flex items-center justify-center max-sm:text-xs max-sm:py-0.5",onClick:function onClick(){return approvePost.mutate({id,price,title,coupon,userId,saleLink,category,description,bookImageURL})}},"Aprovar",ReviewButtons_jsx(index_esm.l_A,{className:"text-white ml-2 max-sm:ml-1"})),ReviewButtons_jsx("button",{className:"bg-red-500 hover:opacity-50 py-1 px-2 rounded-lg font-bold text-sm flex items-center justify-center max-sm:text-xs max-sm:py-0.5",onClick:function onClick(){return setIsOpen(!0)}},"Rejeitar",ReviewButtons_jsx(index_esm.AMf,{className:"text-white ml-2 max-sm:ml-1"}))))};ReviewButtons.__docgenInfo={description:"",methods:[],displayName:"ReviewButtons"};try{ReviewButtons.displayName="ReviewButtons",ReviewButtons.__docgenInfo={description:"",displayName:"ReviewButtons",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},bookImageURL:{defaultValue:null,description:"",name:"bookImageURL",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},category:{defaultValue:null,description:"",name:"category",required:!0,type:{name:"string"}},coupon:{defaultValue:null,description:"",name:"coupon",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"string"}},saleLink:{defaultValue:null,description:"",name:"saleLink",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/ReviewButtons/ReviewButtons.tsx#ReviewButtons"]={docgenInfo:ReviewButtons.__docgenInfo,name:"ReviewButtons",path:"app/components/ReviewButtons/ReviewButtons.tsx#ReviewButtons"})}catch(__react_docgen_typescript_loader_error){}var _Published$parameters,_Published$parameters2,_Published$parameters3,_PendingModView$param,_PendingModView$param2,_PendingModView$param3,_Rejected$parameters,_Rejected$parameters2,_Rejected$parameters3,Post_jsx=react.createElement,Post=function Post(_ref){var id=_ref.id,user=_ref.user,likes=_ref.likes,title=_ref.title,price=_ref.price,seller=_ref.seller,coupon=_ref.coupon,isOwner=_ref.isOwner,category=_ref.category,saleLink=_ref.saleLink,comments=_ref.comments,updatedAt=_ref.updatedAt,status=_ref.status,marketplace=_ref.marketplace,description=_ref.description,bookImageURL=_ref.bookImageURL,interactions=_ref.interactions,isUserVerified=_ref.isUserVerified,isMarketplaceVerified=_ref.isMarketplaceVerified,today=Date.now(),_useState=(0,react.useState)(!1),isActionsOpen=_useState[0],setIsActionsOpen=_useState[1];return Post_jsx("div",{className:"bg-white dark:bg-secondaryDarkColor w-post h-fit rounded-3xl flex items-center flex-col shadow-primary mb-10 relative overflow-hidden max-xl:w-post-xl max-lg:w-post-lg max-sm:w-post-sm max-sm:mb-5"},Post_jsx("div",{className:"".concat("rejected"===status&&"bg-black dark:bg-white w-full h-full absolute opacity-30")}),Post_jsx("div",{className:"w-11/12 mb-3 max-sm:mb-0"},Post_jsx("div",{className:"flex items-center mt-2 relative"},Post_jsx("span",{className:"font-poppins block ".concat("rejected"===status?"text-red-500":"text-primaryColor dark:text-slate-400"," font-semibold w-full text-right text-sm serif max-sm:text-xs")},"published"===status?(0,formatDistance.Z)(new Date(updatedAt),today,{locale:pt_BR.Z}):"pending"===status?"Aguardando análise":"Anúncio rejeitado"),Post_jsx("button",{className:"text-black ml-2 flex items-center justify-center rounded-full h-6 w-6 hover:bg-slate-200 hover:dark:bg-primaryDarkHoverColor",onClick:function onClick(){return setIsActionsOpen(!isActionsOpen)}},Post_jsx(index_esm.LCi,{className:"text-primaryColor"})),Post_jsx(Actions,{postId:id,isActionsOpen,setIsActionsOpen,status,isOwner,postData:{id,title,bookImageURL,category,coupon,description,saleLink,status,seller:marketplace,price}})),Post_jsx("div",{className:"flex relative"},Post_jsx(image_default(),{src:bookImageURL,alt:"product",width:136,height:192,className:"mr-5 max-xl:w-24 max-xl:h-36 max-lg:w-30 max-lg:h-32 max-sm:w-16 max-sm:h-24 rounded"}),Post_jsx("div",{className:"mt-2 h-fit max-lg:mt-1 max-sm:w-44"},Post_jsx(link_default(),{href:"/post/".concat(id),className:"font-poppins block text-black dark:text-white text-xl font-bold max-xl:text-lg max-lg:text-base max-sm:text-sm max-sm:line-clamp-2"},title),Post_jsx("div",{className:"flex items-end"},Post_jsx("span",{className:"font-poppins block text-primaryColor font-bold text-2xl mt-2 max-xl:text-xl max-lg:text-lg max-lg:mt-1 max-sm:text-base"},"R$",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Number(price)).slice(3)),Post_jsx("div",{className:"flex mb-1 ml-4 items-center max-sm:ml-2"},Post_jsx("span",{className:"mr-2 font-poppins font-medium text-slate-500 dark:text-white max-xl:text-sm max-sm:text-xs max-sm:mr-1"},marketplace),isMarketplaceVerified&&Post_jsx(md_index_esm.vr,{className:"text-primaryColor max-sm:text-xs"}))),Post_jsx("div",{className:"flex items-center mt-3 max-xl:mt-2 max-lg:mt-1 max-sm:mb-6"},Post_jsx(image_default(),{alt:"Imagem de perfil do usuário",src:user.image,className:"mr-2 rounded-full max-lg:w-5 max-sm:w-4",width:24,height:24}),Post_jsx(link_default(),{href:"/profile/".concat(user.id),className:"font-poppins text-primaryColor dark:text-white mr-2 font-medium max-xl:text-sm max-sm:text-xs max-sm:mr-1"},seller),isUserVerified&&Post_jsx(md_index_esm.vr,{className:"text-primaryColor max-sm:text-xs"}))),interactions?Post_jsx(Interactions,{id,likes,comments:(null==comments?void 0:comments.length)||0}):Post_jsx(ReviewButtons,{id,price,title,coupon:coupon||"",userId:user.id,saleLink,category,description,bookImageURL}))),Post_jsx(link_default(),{href:"/post/".concat(id),className:"font-poppins text-white bg-primaryColor px-12 py-1 rounded-t-lg font-semibold hover:bg-primaryHoverColor max-xl:px-8 max-xl:text-sm max-sm:py-0.5 max-sm:text-xs max-sm:mt-2 max-sm:px-5"},"Ver mais"))};Post.displayName="Post",Post.__docgenInfo={description:"",methods:[],displayName:"Post"};try{Post.displayName="Post",Post.__docgenInfo={description:"",displayName:"Post",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"User"}},price:{defaultValue:null,description:"",name:"price",required:!0,type:{name:"string"}},likes:{defaultValue:null,description:"",name:"likes",required:!1,type:{name:"Like[]"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},seller:{defaultValue:null,description:"",name:"seller",required:!0,type:{name:"string"}},coupon:{defaultValue:null,description:"",name:"coupon",required:!0,type:{name:"string"}},category:{defaultValue:null,description:"",name:"category",required:!0,type:{name:"string"}},saleLink:{defaultValue:null,description:"",name:"saleLink",required:!0,type:{name:"string"}},comments:{defaultValue:null,description:"",name:"comments",required:!1,type:{name:"Comment[]"}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"enum",value:[{value:'"rejected"'},{value:'"pending"'},{value:'"published"'}]}},createdAt:{defaultValue:null,description:"",name:"createdAt",required:!0,type:{name:"Date"}},updatedAt:{defaultValue:null,description:"",name:"updatedAt",required:!0,type:{name:"Date"}},marketplace:{defaultValue:null,description:"",name:"marketplace",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!0,type:{name:"string"}},bookImageURL:{defaultValue:null,description:"",name:"bookImageURL",required:!0,type:{name:"string"}},interactions:{defaultValue:null,description:"",name:"interactions",required:!1,type:{name:"boolean"}},userProfileURL:{defaultValue:null,description:"",name:"userProfileURL",required:!0,type:{name:"string"}},isOwner:{defaultValue:null,description:"",name:"isOwner",required:!0,type:{name:"boolean"}},isUserVerified:{defaultValue:null,description:"",name:"isUserVerified",required:!0,type:{name:"boolean"}},isMarketplaceVerified:{defaultValue:null,description:"",name:"isMarketplaceVerified",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["app/components/Post/Post.tsx#Post"]={docgenInfo:Post.__docgenInfo,name:"Post",path:"app/components/Post/Post.tsx#Post"})}catch(__react_docgen_typescript_loader_error){}var Post_stories_jsx=react.createElement;function Post_stories_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function Post_stories_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Post_stories_ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):Post_stories_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var Post_stories_queryClient=new queryClient.S;const Post_stories={component:Post,title:"Post",decorators:[function(Story){return Post_stories_jsx(ThemeContext,null,Post_stories_jsx(Story,null))},function(Story){return Post_stories_jsx(QueryClientProvider.aH,{client:Post_stories_queryClient},Post_stories_jsx(Story,null))},function(Story){return Post_stories_jsx(AuthContext,null,Post_stories_jsx(Story,null))}]};var Published={args:{bookImageURL:"https://bookeep-images.s3.amazonaws.com/eb3f3mammr8-corredor_jpg",category:"terror",createdAt:new Date,updatedAt:new Date,isOwner:!0,id:"1",isUserVerified:!0,isMarketplaceVerified:!0,interactions:!0,userProfileURL:"https://profile-example.com",saleLink:"https://sale-example.com",title:"Por um corredor escuro",marketplace:"Amazon",price:"15",status:"published",seller:"Amazon",user:{createdAt:new Date,email:"hiagomuuu@gmail.com",emailVerified:!0,id:"1",image:"https://lh3.googleusercontent.com/a/AAcHTtdvomh5gWfFDJf3BdrF80YCn-NYfx-mltKgAw5maQ=s96-c",interests:["books"],name:"John Doe"}}},PendingModView={args:{bookImageURL:"https://bookeep-images.s3.amazonaws.com/eb3f3mammr8-corredor_jpg",category:"terror",createdAt:new Date,updatedAt:new Date,isOwner:!0,id:"1",isUserVerified:!0,isMarketplaceVerified:!0,interactions:!1,userProfileURL:"https://profile-example.com",saleLink:"https://sale-example.com",title:"Por um corredor escuro",marketplace:"Amazon",price:"15",status:"pending",seller:"Amazon",user:{createdAt:new Date,email:"hiagomuuu@gmail.com",emailVerified:!0,id:"1",image:"https://lh3.googleusercontent.com/a/AAcHTtdvomh5gWfFDJf3BdrF80YCn-NYfx-mltKgAw5maQ=s96-c",interests:["books"],name:"John Doe"}}},Rejected={args:{bookImageURL:"https://bookeep-images.s3.amazonaws.com/eb3f3mammr8-corredor_jpg",category:"terror",createdAt:new Date,updatedAt:new Date,isOwner:!0,id:"1",isUserVerified:!0,isMarketplaceVerified:!0,interactions:!0,userProfileURL:"https://profile-example.com",saleLink:"https://sale-example.com",title:"Por um corredor escuro",marketplace:"Amazon",price:"15",status:"rejected",seller:"Amazon",user:{createdAt:new Date,email:"hiagomuuu@gmail.com",emailVerified:!0,id:"1",image:"https://lh3.googleusercontent.com/a/AAcHTtdvomh5gWfFDJf3BdrF80YCn-NYfx-mltKgAw5maQ=s96-c",interests:["books"],name:"John Doe"}}};Published.parameters=Post_stories_objectSpread(Post_stories_objectSpread({},Published.parameters),{},{docs:Post_stories_objectSpread(Post_stories_objectSpread({},null===(_Published$parameters=Published.parameters)||void 0===_Published$parameters?void 0:_Published$parameters.docs),{},{source:Post_stories_objectSpread({originalSource:'{\n  args: {\n    bookImageURL: "https://bookeep-images.s3.amazonaws.com/eb3f3mammr8-corredor_jpg",\n    category: "terror",\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    isOwner: true,\n    id: "1",\n    isUserVerified: true,\n    isMarketplaceVerified: true,\n    interactions: true,\n    userProfileURL: "https://profile-example.com",\n    saleLink: "https://sale-example.com",\n    title: "Por um corredor escuro",\n    marketplace: "Amazon",\n    price: "15",\n    status: "published",\n    seller: "Amazon",\n    user: {\n      createdAt: new Date(),\n      email: "hiagomuuu@gmail.com",\n      emailVerified: true,\n      id: "1",\n      image: "https://lh3.googleusercontent.com/a/AAcHTtdvomh5gWfFDJf3BdrF80YCn-NYfx-mltKgAw5maQ=s96-c",\n      interests: ["books"],\n      name: "John Doe"\n    }\n  }\n}'},null===(_Published$parameters2=Published.parameters)||void 0===_Published$parameters2||null===(_Published$parameters3=_Published$parameters2.docs)||void 0===_Published$parameters3?void 0:_Published$parameters3.source)})}),PendingModView.parameters=Post_stories_objectSpread(Post_stories_objectSpread({},PendingModView.parameters),{},{docs:Post_stories_objectSpread(Post_stories_objectSpread({},null===(_PendingModView$param=PendingModView.parameters)||void 0===_PendingModView$param?void 0:_PendingModView$param.docs),{},{source:Post_stories_objectSpread({originalSource:'{\n  args: {\n    bookImageURL: "https://bookeep-images.s3.amazonaws.com/eb3f3mammr8-corredor_jpg",\n    category: "terror",\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    isOwner: true,\n    id: "1",\n    isUserVerified: true,\n    isMarketplaceVerified: true,\n    interactions: false,\n    userProfileURL: "https://profile-example.com",\n    saleLink: "https://sale-example.com",\n    title: "Por um corredor escuro",\n    marketplace: "Amazon",\n    price: "15",\n    status: "pending",\n    seller: "Amazon",\n    user: {\n      createdAt: new Date(),\n      email: "hiagomuuu@gmail.com",\n      emailVerified: true,\n      id: "1",\n      image: "https://lh3.googleusercontent.com/a/AAcHTtdvomh5gWfFDJf3BdrF80YCn-NYfx-mltKgAw5maQ=s96-c",\n      interests: ["books"],\n      name: "John Doe"\n    }\n  }\n}'},null===(_PendingModView$param2=PendingModView.parameters)||void 0===_PendingModView$param2||null===(_PendingModView$param3=_PendingModView$param2.docs)||void 0===_PendingModView$param3?void 0:_PendingModView$param3.source)})}),Rejected.parameters=Post_stories_objectSpread(Post_stories_objectSpread({},Rejected.parameters),{},{docs:Post_stories_objectSpread(Post_stories_objectSpread({},null===(_Rejected$parameters=Rejected.parameters)||void 0===_Rejected$parameters?void 0:_Rejected$parameters.docs),{},{source:Post_stories_objectSpread({originalSource:'{\n  args: {\n    bookImageURL: "https://bookeep-images.s3.amazonaws.com/eb3f3mammr8-corredor_jpg",\n    category: "terror",\n    createdAt: new Date(),\n    updatedAt: new Date(),\n    isOwner: true,\n    id: "1",\n    isUserVerified: true,\n    isMarketplaceVerified: true,\n    interactions: true,\n    userProfileURL: "https://profile-example.com",\n    saleLink: "https://sale-example.com",\n    title: "Por um corredor escuro",\n    marketplace: "Amazon",\n    price: "15",\n    status: "rejected",\n    seller: "Amazon",\n    user: {\n      createdAt: new Date(),\n      email: "hiagomuuu@gmail.com",\n      emailVerified: true,\n      id: "1",\n      image: "https://lh3.googleusercontent.com/a/AAcHTtdvomh5gWfFDJf3BdrF80YCn-NYfx-mltKgAw5maQ=s96-c",\n      interests: ["books"],\n      name: "John Doe"\n    }\n  }\n}'},null===(_Rejected$parameters2=Rejected.parameters)||void 0===_Rejected$parameters2||null===(_Rejected$parameters3=_Rejected$parameters2.docs)||void 0===_Rejected$parameters3?void 0:_Rejected$parameters3.source)})})}}]);